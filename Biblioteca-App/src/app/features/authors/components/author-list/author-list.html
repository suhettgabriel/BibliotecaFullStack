<div class="main-container">
  <div class="page-container">
    <header class="page-header">
      <h1><i class="fas fa-user-edit"></i> Autores</h1>
      <a routerLink="/authors/new" class="btn btn-primary">
        <i class="fas fa-plus"></i> Adicionar Autor
      </a>
    </header>

    <div *ngIf="isLoading; else content" class="loading-indicator">
      <i class="fas fa-spinner fa-spin fa-2x"></i>
      <p>Carregando autores...</p>
    </div>

    <ng-template #content>
      <div *ngIf="authors.length > 0; else noAuthors" class="table-container">
        <table>
          <thead>
            <tr>
              <th>Nome</th>
              <th>Quantidade de Livros</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let author of authors">
              <td>
                <div class="author-info">
                  <i class="fas fa-user-circle"></i>
                  <span>{{ author.name }}</span>
                </div>
              </td>
              <td>{{ author.bookCount || 0 }}</td>
              <td class="actions">
                <a [routerLink]="['/authors/edit', author.id]" class="btn btn-secondary" title="Editar">
                  <i class="fas fa-edit"></i>
                </a>
                <button (click)="deleteAuthor(author.id)" class="btn btn-danger" title="Excluir">
                  <i class="fas fa-trash-alt"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <ng-template #noAuthors>
        <div class="empty-state">
          <i class="fas fa-user-edit fa-4x"></i>
          <h3>Nenhum autor cadastrado</h3>
          <p>Comece adicionando seu primeiro autor</p>
          <a routerLink="/authors/new" class="btn btn-primary">
            <i class="fas fa-plus"></i> Adicionar Autor
          </a>
        </div>
      </ng-template>
    </ng-template>
  </div>
</div>
